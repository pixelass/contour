import { Meta } from "@storybook/addon-docs";
import BreakoutColumn from "../../../packages/react/src/breakout-column";
import Grid from "../../../packages/react/src/grid";
import GridProvider from "../../../packages/react/src/provider";
import { DebugBox, DebugColumn } from "../../helpers";

<Meta title="Docs/Components/Breakout Column" />

# Breakout Column `strategy="flex"`

BreakoutColumn is a sub-level component. It can be used multiple times in a `<Grid/>` or `<Row/>`.
It can only be used with `strategy="flex"`

```tsx
import Column from "@contour/react/column";
import Grid from "@contour/react/grid";
import GridProvider from "@contour/react/provider";
import Row from "@contour/react/row";

export default function App() {
	return (
		<GridProvider>
			<Grid>
				<BreakoutColumn>{/* ... */}</BreakoutColumn>
				<BreakoutColumn>{/* ... */}</BreakoutColumn>
			</Grid>
		</GridProvider>
	);
}
```

## Column Properties

| Name      | Inherit | Required | Default | Description                                 |
| :-------- | :------ | :------- | :------ | ------------------------------------------- |
| `colSpan` | No      | No       | -       | Defines the column span for each breakpoint |
| `order`   | No      | No       | -       | Push or pull the columnsâ€™ order             |
| `left`    | No      | No       | -       | Expand the column to the viewport edge      |
| `right`   | No      | No       | -       | Expand the column to the viewport edge      |

## Additional Properties

| Name      | Required | Default | Description                                      |
| :-------- | :------- | :------ | :----------------------------------------------- |
| `as`      | No       | -       | The Component or Element that should be rendered |
| `align`   | No       | -       | One of `start`, `center`, `end`                  |
| `justify` | No       | -       | One of `start`, `center`, `end`                  |

## Defining the breakout

```tsx
import BreakoutColumn from "@contour/react/breakout-column";
import Column from "@contour/react/column";
import Grid from "@contour/react/grid";
import GridProvider from "@contour/react/provider";

export default function App() {
	return (
		<GridProvider>
			<Grid>
				<BreakoutColumn left={{ m: 1, l: 1, xl: 1 }} right={{ m: 1, l: 1, xl: 1 }}>
					1
				</BreakoutColumn>
				<BreakoutColumn left={{ m: 1, l: 1, xl: 1 }}>2</BreakoutColumn>
				<BreakoutColumn right={{ m: 1, l: 1, xl: 1 }}>3</BreakoutColumn>
				<BreakoutColumn colSpan={{ m: 2, l: 4 }} left={{ m: 1, l: 1, xl: 1 }}>
					2
				</BreakoutColumn>
				<Column colSpan={{ m: 4 }} />
				<BreakoutColumn colSpan={{ m: 2, l: 4 }} right={{ m: 1, l: 1, xl: 1 }}>
					3
				</BreakoutColumn>
			</Grid>
		</GridProvider>
	);
}
```

<GridProvider>
	<Grid>
		<BreakoutColumn left={{ m: 1, l: 1, xl: 1 }} right={{ m: 1, l: 1, xl: 1 }}>
			<DebugBox strokeWidth="2px">1</DebugBox>
		</BreakoutColumn>
		<BreakoutColumn left={{ m: 1, l: 1, xl: 1 }}>
			<DebugBox strokeWidth="2px">2</DebugBox>
		</BreakoutColumn>
		<BreakoutColumn right={{ m: 1, l: 1, xl: 1 }}>
			<DebugBox strokeWidth="2px">3</DebugBox>
		</BreakoutColumn>
		<BreakoutColumn colSpan={{ m: 2, l: 4 }} left={{ m: 1, l: 1, xl: 1 }}>
			<DebugBox strokeWidth="2px">4</DebugBox>
		</BreakoutColumn>
		<DebugColumn colSpan={{ m: 4 }} />
		<BreakoutColumn colSpan={{ m: 2, l: 4 }} right={{ m: 1, l: 1, xl: 1 }}>
			<DebugBox strokeWidth="2px">5</DebugBox>
		</BreakoutColumn>
	</Grid>
</GridProvider>

## Breakout right cuses scrollbar

When using `<BreakoutColumn/>` with `right`, some users might experience a scrollbar on the bottom
of the page. To fix this we added a hook that will fix this issue. Yopu can read more about this in
the [use-viewport docs](/story/docs-hooks-use-viewport--page)

```tsx
import BreakoutColumn from "@contour/react/breakout-column";
import Grid from "@contour/react/grid";
import GridProvider from "@contour/react/provider";
import useViewport from "@contour/hooks/viewport";

export default function App() {
	useViewport();
	return (
		<GridProvider>
			<Grid>
				<BreakoutColumn left={{ m: 1, l: 1, xl: 1 }} right={{ m: 1, l: 1, xl: 1 }}>
					1
				</BreakoutColumn>
			</Grid>
		</GridProvider>
	);
}
```
