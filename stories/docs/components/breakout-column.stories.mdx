import { BreakoutColumn, Grid } from "@contour/react";
import { Meta } from "@storybook/addon-docs";
import { DebugBox, DebugColumn } from "../../helpers";

<Meta title="Docs/Components/Breakout Column" />

# Breakout Column `strategy="flex"`

BreakoutColumn is a sub-level component. It can be used multiple times in a `<Grid/>` or `<Row/>`.
It can only be used with `strategy="flex"`

```jsx
import { Grid } from "@contour/react";

export default function App() {
	return (
		<Grid>
			<BreakoutColumn>{/* ... */}</BreakoutColumn>
			<BreakoutColumn>{/* ... */}</BreakoutColumn>
		</Grid>
	);
}
```

## Column Properties

| Name      | Inherit | Required | Default | Description                                 |
| :-------- | :------ | :------- | :------ | ------------------------------------------- |
| `colSpan` | Yes     | No       | -       | Defines the column span for each breakpoint |
| `order`   | No      | No       | -       | Push or pull the columnsâ€™ order             |
| `left`    | No      | No       | -       | Expand the column to the viewport edge      |
| `right`   | No      | No       | -       | Expand the column to the viewport edge      |

## Additional Properties

| Name      | Required | Default | Description                                              |
| :-------- | :------- | :------ | :------------------------------------------------------- |
| `as`      | No       | -       | The Component or Element that should be rendered         |
| `align`   | No       | -       | One of `start`, `center`, `end` (requires `flex={true}`) |
| `justify` | No       | -       | One of `start`, `center`, `end` (requires `flex={true}`) |
| `flex`    | No       | -       | Use `display: flex;` (enables `align`, `justify`)        |

## Defining the breakout

```jsx
import { BreakoutColumn, Column, Grid } from "@contour/react";


export default function App() {
	return (
		<Grid>
			<BreakoutColumn left={{ m: 1, l: 1, xl: 1 }} right={{ m: 1, l: 1, xl: 1 }}>
				1
			</BreakoutColumn>
			<BreakoutColumn left={{ m: 1, l: 1, xl: 1 }}>2</BreakoutColumn>
			<BreakoutColumn right={{ m: 1, l: 1, xl: 1 }}>3</BreakoutColumn>
			<BreakoutColumn colSpan={{ m: 2, l: 4 }} left={{ m: 1, l: 1, xl: 1 }}>
				2
			</BreakoutColumn>
			<Column colSpan={{ m: 4 }} />
			<BreakoutColumn colSpan={{ m: 2, l: 4 }} right={{ m: 1, l: 1, xl: 1 }}>
				3
			</BreakoutColumn>
		</Grid>
	);
}
```

<Grid>
	<BreakoutColumn left={{ m: 1, l: 1, xl: 1 }} right={{ m: 1, l: 1, xl: 1 }}>
		<DebugBox strokeWidth="2px">1</DebugBox>
	</BreakoutColumn>
	<BreakoutColumn left={{ m: 1, l: 1, xl: 1 }}>
		<DebugBox strokeWidth="2px">2</DebugBox>
	</BreakoutColumn>
	<BreakoutColumn right={{ m: 1, l: 1, xl: 1 }}>
		<DebugBox strokeWidth="2px">3</DebugBox>
	</BreakoutColumn>
	<BreakoutColumn colSpan={{ m: 2, l: 4 }} left={{ m: 1, l: 1, xl: 1 }}>
		<DebugBox strokeWidth="2px">4</DebugBox>
	</BreakoutColumn>
	<DebugColumn colSpan={{ m: 4 }} />
	<BreakoutColumn colSpan={{ m: 2, l: 4 }} right={{ m: 1, l: 1, xl: 1 }}>
		<DebugBox strokeWidth="2px">5</DebugBox>
	</BreakoutColumn>
</Grid>

## Breakout right causes scrollbar

When using `<BreakoutColumn/>` with `right`, some users might experience a scrollbar on the bottom
of the page. To fix this we added a hook that will fix this issue. You can read more about this in
the [use-viewport docs](/story/docs-hooks-use-viewport--page)

```jsx
import { BreakoutColumn, Grid  } from "@contour/react";
import useViewport from "@contour/hooks/viewport";

export default function App() {
	useViewport();
	return (
		<Grid>
			<BreakoutColumn left={{ m: 1, l: 1, xl: 1 }} right={{ m: 1, l: 1, xl: 1 }}>
				1
			</BreakoutColumn>
		</Grid>
	);
}
```
