import { Meta } from "@storybook/addon-docs";
import Column from "../../../packages/react/src/column";
import Grid from "../../../packages/react/src/grid";
import GridProvider from "../../../packages/react/src/provider";
import { DebugBox, Rainbow } from "../../helpers";

<Meta title="Docs/Components/Grid" />

# Grid

Grid is a top-level component. It can be used multiple times on a page.

```tsx
import Grid from "@contour/react/grid";
import GridProvider from "@contour/react/provider";

export default function App() {
	return (
		<GridProvider>
			<Grid>{/* ... */}</Grid>
			<footer>
				<Grid>{/* ... */}</Grid>
			</footer>
		</GridProvider>
	);
}
```

## Grid Properties

| Name       | Inherit | Required | Default | Description                                        |
| :--------- | :------ | :------- | :------ | -------------------------------------------------- |
| `colCount` | No      | No       | -       | Defines the number of columns for each breakpoint  |
| `gap`      | No      | No       | -       | Defines the column and row gap for each breakpoint |
| `margin`   | No      | No       | -       | Defines the margin for each breakpoint             |

## Additional Properties

| Name       | Required | Default | Description                                      |
| :--------- | :------- | :------ | :----------------------------------------------- |
| `as`       | No       | -       | The Component or Element that should be rendered |
| `strategy` | No       | `flex`  | One of `flex`, `grid`                            |
| `align`    | No       | -       | One of `start`, `center`, `end`                  |
| `justify`  | No       | -       | One of `start`, `center`, `end`                  |

## Strategy: Grid

You can choose one of two strategies: `flex` (default) or `grid`

When chosing `grid`, `<Grid/>` becomes a standalone layout. You can use this as your grid-system,
without using any other Contour components.

```tsx
import Grid from "@contour/react/grid";
import GridProvider from "@contour/react/provider";

export default function App() {
	return (
		<GridProvider>
			<Grid strategy="grid">
				<div style={{ gridColumn: "1 / -1" }}>1</div>
				<div style={{ gridColumnEnd: "span 2" }}>2</div>
			</Grid>
		</GridProvider>
	);
}
```

<GridProvider>
	<Grid strategy="grid">
		<div style={{ gridColumn: "2 / -2" }}>
			<DebugBox>1</DebugBox>
		</div>
		<div style={{ gridColumnEnd: "span 2" }}>
			<DebugBox>2</DebugBox>
		</div>
	</Grid>
</GridProvider>

## Compound Grid

To use a different grid logic for a section, you can use `<Grid/>` as a sub-level component. Be
aware that this adds extra padding that cannot be removed.

```tsx
import Column from "@contour/react/column";
import Grid from "@contour/react/grid";
import GridProvider from "@contour/react/provider";

export default function App() {
	return (
		<GridProvider>
			<Grid>
				<Column>
					<Grid
						colCount={{ l: 4, xl: 4 }}
						gap={{ l: 32, xl: 32 }}
						margin={{ l: 32, xl: 32 }}
						justify="center"
					>
						{/* ... */}
					</Grid>
				</Column>
			</Grid>
		</GridProvider>
	);
}
```

<GridProvider>
	<Grid>
		<Rainbow length={12} />
		<Column colSpan={{ l: 9 }}>
			<Grid
				colCount={{ l: 4, xl: 4 }}
				gap={{ l: 32, xl: 32 }}
				margin={{ l: 32, xl: 32 }}
				justify="center"
			>
				<Rainbow length={3} />
			</Grid>
		</Column>
		<Rainbow length={15} />
	</Grid>
</GridProvider>
